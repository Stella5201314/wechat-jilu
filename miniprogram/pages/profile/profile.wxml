<view class="page">
  <header-nav title="个人中心"></header-nav>

  <view class="container">
    <view class="card" style="display:flex; gap:16rpx; align-items:center;">
      <image class="avatar" src="{{user.avatarUrl || '/assets/images/default-avatar.png'}}" style="width:120rpx; height:120rpx; border-radius:12rpx;" />
      <view>
        <text style="font-size:34rpx; font-weight:700;">{{user.nickName || '游客'}}</text>
        <text style="font-size:26rpx; color:var(--text-secondary); margin-top:8rpx;" wx:if="{{user.email}}">{{user.email}}</text>
      </view>
    </view>

    <view class="card">
      <button class="btn-primary" bindtap="onSyncPreference" style="width:100%;">同步偏好</button>
      <button class="btn-plain" bindtap="onOpenTemplate" style="width:100%; margin-top:12rpx;">模板中心</button>
      <button class="btn-plain" bindtap="onLogout" style="width:100%; margin-top:12rpx; color:#ff4d4f;">退出登录</button>
    </view>
  </view>

  <bottom-tabs current="profile"></bottom-tabs>
</view>